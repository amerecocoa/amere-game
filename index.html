<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>AMÃˆRE: Bitter Origins</title>
<style>
body{
  background:#0f0b0b;
  color:#f5e6d3;
  font-family:Georgia,serif;
  margin:0;
  padding:20px;
}
#game{
  max-width:800px;
  margin:auto;
}
button{
  background:#3b1f1f;
  color:#fff;
  border:none;
  padding:10px 15px;
  margin:5px 0;
  cursor:pointer;
}
button:hover{
  background:#6a2e2e;
}
h1{
  color:#d8b27c;
}
.panel{
  border:1px solid #5c3a3a;
  padding:15px;
  margin-top:15px;
}
.stat{
  margin-bottom:5px;
}
.log{
  height:120px;
  overflow-y:auto;
  background:#1a1212;
  padding:10px;
  font-size:14px;
}
</style>
</head>
<body>
<div id="game">
<h1>ğŸ« AMÃˆRE: Bitter Origins</h1>

<div id="story" class="panel"></div>

<div id="stats" class="panel"></div>

<div id="actions" class="panel"></div>

<div class="panel">
<h3>ğŸ“œ Log</h3>
<div id="log" class="log"></div>
</div>
</div>

<script>
let day=1;
let gold=100;
let reputation=50;
let morale=50;
let inventory={
  cacao:0,
  sugar:0,
  fireEssence:0
};

let gameState="intro";

function log(msg){
  document.getElementById("log").innerHTML+="<div>"+msg+"</div>";
  let box=document.getElementById("log");
  box.scrollTop=box.scrollHeight;
}

function updateStats(){
  document.getElementById("stats").innerHTML=`
  <div class="stat">ğŸ“… Day: ${day}</div>
  <div class="stat">ğŸ’° Gold: ${gold}</div>
  <div class="stat">â­ Reputation: ${reputation}</div>
  <div class="stat">ğŸ§  Morale: ${morale}</div>
  <div class="stat">ğŸ« Cacao: ${inventory.cacao} | ğŸ¬ Sugar: ${inventory.sugar} | ğŸ”¥ Fire Essence: ${inventory.fireEssence}</div>
  `;
}

function intro(){
  document.getElementById("story").innerHTML=`
  <p>Kamu mewarisi toko coklat kecil bernama <b>AMÃˆRE</b>.  
  Toko hampir bangkrut. Kompetitor besar ingin menguasai pasar.  
  Tapi ada legenda: resep keluarga bisa mengubah emosi manusia.</p>
  <p>Bisakah kamu membangkitkan kembali kejayaan AMÃˆRE?</p>
  <button onclick="startGame()">Mulai</button>
  `;
}

function startGame(){
  gameState="tutorial";
  document.getElementById("story").innerHTML=`
  <h3>Tutorial</h3>
  <p>Setiap hari kamu bisa:</p>
  <ul>
  <li>Eksplorasi untuk mencari bahan</li>
  <li>Craft coklat</li>
  <li>Jual di toko</li>
  </ul>
  <p>Hati-hati. Reputasi turun = bangkrut.  
  Morale habis = menyerah.</p>
  <button onclick="mainMenu()">Lanjut</button>
  `;
}

function mainMenu(){
  gameState="main";
  updateStats();
  document.getElementById("actions").innerHTML=`
  <button onclick="explore()">ğŸŒ² Eksplorasi</button>
  <button onclick="craft()">ğŸ« Craft</button>
  <button onclick="sell()">ğŸª Jual</button>
  <button onclick="nextDay()">ğŸŒ™ End Day</button>
  `;
}

function explore(){
  let chance=Math.random();
  if(chance<0.5){
    inventory.cacao++;
    log("Kamu menemukan biji kakao liar.");
  }else if(chance<0.8){
    inventory.sugar++;
    log("Kamu menemukan gula langka.");
  }else{
    inventory.fireEssence++;
    log("Kamu mendapatkan Fire Essence dari gunung.");
  }

  // event random
  let eventChance=Math.random();
  if(eventChance>0.85){
    log("âš”ï¸ Kamu diserang makhluk liar! Kehilangan morale.");
    morale-=10;
  }
  updateStats();
}

function craft(){
  if(inventory.cacao>=1 && inventory.sugar>=1){
    inventory.cacao--;
    inventory.sugar--;
    reputation+=5;
    log("Kamu membuat Midnight Truffle. Reputasi naik!");
  }else if(inventory.cacao>=1 && inventory.fireEssence>=1){
    inventory.cacao--;
    inventory.fireEssence--;
    reputation+=8;
    morale+=5;
    log("Kamu membuat Ember Kiss. Pelanggan terpukau!");
  }else{
    log("Bahan tidak cukup.");
  }
  updateStats();
}

function sell(){
  let income=Math.floor(Math.random()*40)+20;
  gold+=income;
  reputation+=2;
  morale+=2;
  log("Hari ini kamu mendapat "+income+" gold dari penjualan.");
  updateStats();
}

function nextDay(){
  day++;
  morale-=5;

  // event ekonomi
  if(Math.random()>0.8){
    gold-=20;
    log("ğŸ“‰ Harga bahan naik. Kamu rugi 20 gold.");
  }

  // boss event
  if(day==7){
    bossFight();
    return;
  }

  checkGameOver();
  updateStats();
}

function bossFight(){
  document.getElementById("actions").innerHTML="";
  log("ğŸ”¥ Kompetitor Noir Dominion menyerang reputasimu!");

  let power=reputation+morale+Math.random()*50;

  if(power>120){
    log("ğŸ‰ Kamu menang! Kota mengakui AMÃˆRE!");
    reputation+=20;
    morale+=20;
  }else{
    log("ğŸ’€ Kamu kalah. Reputasi hancur.");
    reputation-=30;
    morale-=20;
  }

  checkGameOver();
  updateStats();
  mainMenu();
}

function checkGameOver(){
  if(gold<=0){
    endGame("ğŸ’¸ Kamu bangkrut. AMÃˆRE tutup selamanya.");
  }
  if(reputation<=0){
    endGame("ğŸ˜ Reputasi hancur. Tidak ada pelanggan yang percaya lagi.");
  }
  if(morale<=0){
    endGame("ğŸ§  Kamu kehilangan semangat dan menyerah.");
  }
  if(day>=15){
    ending();
  }
}

function ending(){
  if(reputation>120){
    endGame("ğŸ‘‘ Kamu menjadi Chocolatier Legendaris.");
  }else if(gold>300){
    endGame("ğŸ’° Kamu menjadi pengusaha sukses, tapi kehilangan sentuhan seni.");
  }else{
    endGame("ğŸŒ’ AMÃˆRE bertahan... tapi masa depan masih abu-abu.");
  }
}

function endGame(message){
  document.getElementById("actions").innerHTML="";
  document.getElementById("story").innerHTML="<h2>GAME OVER</h2><p>"+message+"</p><button onclick='restart()'>Main Lagi</button>";
}

function restart(){
  day=1;
  gold=100;
  reputation=50;
  morale=50;
  inventory={cacao:0,sugar:0,fireEssence:0};
  document.getElementById("log").innerHTML="";
  intro();
}

intro();
</script>
</body>
</html>
