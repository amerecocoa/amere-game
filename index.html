<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AM√àRE: Bitter Origins</title>
<style>
body{
 background:#0e0a0a;
 color:#f4e4d0;
 font-family:monospace;
 padding:20px;
}
button{
 background:#3a1f1f;
 color:white;
 border:none;
 padding:6px 10px;
 margin:3px;
 cursor:pointer;
}
button:hover{background:#7a2f2f;}
.panel{
 border:1px solid #5a3a3a;
 padding:10px;
 margin-top:10px;
}
.log{
 height:140px;
 overflow-y:auto;
 background:#1a1111;
 padding:5px;
 font-size:13px;
}
</style>
</head>
<body>

<h1>üç´ AM√àRE: Power & Profit</h1>

<div id="stats" class="panel"></div>
<div id="actions" class="panel"></div>
<div id="log" class="panel log"></div>

<script>

let day=1;
let energy=10;
let gold=250;
let reputation=70;
let morale=80;

let inventory={cacao:5,sugar:5,fire:2};
let stock={basic:0,spicy:0};

let relations={
 critic:50,
 supplier:50,
 noir:50,
 investor:50,
 activist:50
};

function log(t){
 document.getElementById("log").innerHTML+="<div>"+t+"</div>";
 let box=document.getElementById("log");
 box.scrollTop=box.scrollHeight;
}

function update(){
 document.getElementById("stats").innerHTML=`
 Day ${day} | ‚ö° ${energy}/10<br>
 üí∞ ${gold} | ‚≠ê ${reputation} | üß† ${morale}<br>
 Stock ‚Üí Basic:${stock.basic} Spicy:${stock.spicy}<br>
 Relasi ‚Üí Critic:${relations.critic} |
 Supplier:${relations.supplier} |
 Noir:${relations.noir} |
 Investor:${relations.investor} |
 Activist:${relations.activist}
 `;
}

function useEnergy(){
 energy--;
 if(energy<=0){
   nextDay();
 }
}

function main(){
 update();
 document.getElementById("actions").innerHTML=`
 <button onclick="craft()">üç´ Craft</button>
 <button onclick="sell()">üè™ Sell Chocolate</button>
 <button onclick="explore()">üå≤ Gather</button>
 <button onclick="businessChoice()">‚öñ Business Choice</button>
 <button onclick="interact()">üí¨ Political Move</button>
 `;
}

function craft(){
 if(inventory.cacao>=1 && inventory.sugar>=1){
  inventory.cacao--; inventory.sugar--;
  stock.basic++; reputation+=2;
  log("Basic dibuat.");
 }
 if(inventory.cacao>=1 && inventory.fire>=1){
  inventory.cacao--; inventory.fire--;
  stock.spicy++; reputation+=4;
  log("Spicy dibuat.");
 }
 useEnergy(); update();
}

function sell(){
 let income=0;
 if(stock.basic>0){
  income+=stock.basic*30;
  stock.basic=0;
 }
 if(stock.spicy>0){
  income+=stock.spicy*50;
  stock.spicy=0;
 }
 if(income>0){
  gold+=income;
  reputation+=3;
  log("Semua stok terjual. +"+income+" gold");
 }else{
  log("Tidak ada stok untuk dijual.");
 }
 useEnergy(); update();
}

function explore(){
 inventory.cacao+=2;
 inventory.sugar+=1;
 if(Math.random()>0.8){
  morale-=5;
  log("Kelelahan saat mencari bahan.");
 }
 log("Bahan terkumpul.");
 useEnergy(); update();
}

function businessChoice(){
 document.getElementById("actions").innerHTML=`
 Pilih strategi:<br>
 <button onclick="aggressive()">Agresif (Profit tinggi)</button>
 <button onclick="ethical()">Etis (Reputasi naik)</button>
 <button onclick="main()">‚¨Ö</button>
 `;
}

function aggressive(){
 gold+=50;
 reputation-=5;
 relations.activist-=10;
 relations.noir+=10;
 log("Strategi agresif. Aktivis marah.");
 useEnergy(); main();
}

function ethical(){
 gold-=20;
 reputation+=10;
 relations.activist+=10;
 relations.noir-=5;
 log("Strategi etis dipilih.");
 useEnergy(); main();
}

function interact(){
 document.getElementById("actions").innerHTML=`
 Manuver politik:<br>
 <button onclick="allyNoir()">Aliansi Noir</button>
 <button onclick="exposeNoir()">Expose Noir</button>
 <button onclick="seekInvestor()">Cari Investor</button>
 <button onclick="main()">‚¨Ö</button>
 `;
}

function allyNoir(){
 relations.noir+=15;
 reputation-=5;
 log("Kamu mulai dekat dengan Noir.");
 useEnergy(); main();
}

function exposeNoir(){
 relations.noir-=20;
 reputation+=10;
 log("Kamu menyerang Noir di publik.");
 useEnergy(); main();
}

function seekInvestor(){
 if(relations.investor>60){
  gold+=150;
  reputation+=5;
  log("Investor mendukungmu.");
 }else{
  log("Investor belum percaya.");
 }
 useEnergy(); main();
}

function randomEvent(){
 let r=Math.random();
 if(r<0.25){
  gold-=50;
  log("üï∂ Sabotase misterius! -50 gold");
 }
 else if(r<0.5){
  reputation+=10;
  log("‚≠ê Review bagus dari Critic!");
 }
 else if(r<0.75){
  inventory.cacao+=3;
  log("Panen kakao melimpah.");
 }
 else{
  morale+=10;
  log("Festival kota meningkatkan semangat.");
 }
}

function nextDay(){
 day++;
 energy=10;
 morale-=3;
 randomEvent();
 checkEnd();
 update();
 main();
}

function checkEnd(){
 if(gold<=0) end("Bangkrut.");
 if(reputation>=300) end("üëë AM√àRE Menguasai Kota!");
 if(relations.noir>=150) end("üï∂ Kamu bergabung dengan Noir Dominion.");
 if(relations.activist<=0) end("Skandal publik menghancurkanmu.");
 if(morale<=0) end("Kamu menyerah.");
}

function end(msg){
 document.getElementById("actions").innerHTML="";
 document.getElementById("stats").innerHTML="";
 document.getElementById("log").innerHTML=
 "<h2>GAME OVER</h2>"+msg+
 "<br><button onclick='location.reload()'>Main Lagi</button>";
}

main();

</script>
</body>
</html>
