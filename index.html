<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AMÃˆRE: Bitter Origins</title>
<style>
body{
  background:#0c0a0a;
  color:#f3e6d0;
  font-family:monospace;
  margin:0;
  padding:20px;
}
#game{max-width:1000px;margin:auto;}
button{
  background:#3b1f1f;
  color:white;
  border:none;
  padding:8px 12px;
  margin:3px;
  cursor:pointer;
}
button:hover{background:#7a2f2f;}
.panel{
  border:1px solid #5a3a3a;
  padding:10px;
  margin-top:10px;
}
.map{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:4px;
}
.tile{
  width:80px;
  height:80px;
  background:#2b1b1b;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.tile:hover{background:#5a2f2f;}
.log{
  height:120px;
  overflow-y:auto;
  background:#1a1111;
  padding:5px;
  font-size:13px;
}
h1{color:#d8b27c;}
</style>
</head>
<body>
<div id="game">

<h1>ğŸ« AMÃˆRE: Bitter Origins</h1>

<div id="stats" class="panel"></div>
<div id="actions" class="panel"></div>
<div id="log" class="panel log"></div>

</div>

<script>

let day=1;
let gold=150;
let reputation=60;
let morale=70;
let shopLevel=1;

let inventory={cacao:3,sugar:3,fire:1};
let stock={basic:0,spicy:0};

let relations={
  elena:50, // romance
  marcus:50 // rival
};

function log(t){
 document.getElementById("log").innerHTML+="<div>"+t+"</div>";
 let box=document.getElementById("log");
 box.scrollTop=box.scrollHeight;
}

function update(){
 document.getElementById("stats").innerHTML=`
 Day ${day} |
 ğŸ’° ${gold} |
 â­ ${reputation} |
 ğŸ§  ${morale} |
 ğŸª Shop Lv.${shopLevel}<br>
 Inventory â†’ C:${inventory.cacao} S:${inventory.sugar} F:${inventory.fire}<br>
 Stock â†’ Basic:${stock.basic} Spicy:${stock.spicy}<br>
 â¤ï¸ Elena:${relations.elena} âš” Marcus:${relations.marcus}
 `;
}

function main(){
 update();
 document.getElementById("actions").innerHTML=`
 <button onclick="showMap()">ğŸ—º Map</button>
 <button onclick="craft()">ğŸ« Craft</button>
 <button onclick="serve()">ğŸ‘¤ Customer</button>
 <button onclick="market()">ğŸ›’ Market</button>
 <button onclick="upgradeShop()">ğŸª Upgrade Shop</button>
 <button onclick="nextDay()">ğŸŒ™ End Day</button>
 `;
}

function showMap(){
 document.getElementById("actions").innerHTML=`
 <div class="map">
 <div class="tile" onclick="explore('forest')">ğŸŒ²</div>
 <div class="tile" onclick="explore('mountain')">ğŸ”¥</div>
 <div class="tile" onclick="explore('dock')">âš“</div>
 </div>
 <button onclick="main()">â¬…</button>
 `;
}

function explore(place){
 if(place=="forest"){
  inventory.cacao+=2;
  inventory.sugar+=1;
  log("Menemukan bahan liar.");
 }
 if(place=="mountain"){
  inventory.fire++;
  morale-=5;
  log("Ambil Fire Essence.");
 }
 if(place=="dock"){
  gold+=20;
  log("Kerja sampingan di pelabuhan.");
 }
 update();
}

function craft(){
 if(inventory.cacao>=1 && inventory.sugar>=1){
  inventory.cacao--; inventory.sugar--;
  stock.basic++;
  reputation+=2;
  log("Basic dibuat.");
 }
 if(inventory.cacao>=1 && inventory.fire>=1){
  inventory.cacao--; inventory.fire--;
  stock.spicy++;
  reputation+=4;
  log("Spicy dibuat.");
 }
 update();
}

function serve(){
 let r=Math.random();
 if(r<0.4){
  if(stock.basic>0){
   stock.basic--;
   gold+=30;
   relations.elena+=5;
   log("Elena datang. Kamu ramah.");
  }
 }
 else if(r<0.8){
  if(stock.spicy>0){
   stock.spicy--;
   gold+=50;
   relations.marcus+=3;
   log("Marcus memata-matai tokomu.");
  }
 }
 else{
  log("Tidak ada pelanggan.");
 }
 update();
}

function market(){
 document.getElementById("actions").innerHTML=`
 Beli bahan:<br>
 <button onclick="buy('cacao')">Cacao (20)</button>
 <button onclick="buy('sugar')">Sugar (15)</button>
 <button onclick="buy('fire')">Fire (35)</button>
 <button onclick="main()">â¬…</button>
 `;
}

function buy(type){
 let price={cacao:20,sugar:15,fire:35};
 if(gold>=price[type]){
  gold-=price[type];
  inventory[type]++;
  log("Membeli "+type);
 }
 update();
}

function upgradeShop(){
 let cost=100*shopLevel;
 if(gold>=cost){
  gold-=cost;
  shopLevel++;
  reputation+=10;
  log("Toko diupgrade.");
 }
 update();
}

function sabotage(){
 if(Math.random()>0.7){
  log("ğŸ•¶ Noir Dominion sabotase tokomu!");
  gold-=50;
  morale-=10;
 }
}

function nextDay(){
 day++;
 morale-=3;
 sabotage();
 checkEnd();
 update();
}

function checkEnd(){
 if(gold<=0) end("Bangkrut.");
 if(reputation>=200) end("ğŸ‘‘ AMÃˆRE Legendaris!");
 if(relations.elena>=100) end("â¤ï¸ Kamu memilih cinta.");
 if(relations.marcus>=120) end("âš” Marcus menghancurkan reputasimu.");
 if(morale<=0) end("Kamu menyerah.");
}

function end(msg){
 document.getElementById("actions").innerHTML="";
 document.getElementById("stats").innerHTML="";
 document.getElementById("log").innerHTML="<h2>GAME OVER</h2>"+msg+"<br><button onclick='location.reload()'>Main Lagi</button>";
}

main();

</script>
</body>
</html>
